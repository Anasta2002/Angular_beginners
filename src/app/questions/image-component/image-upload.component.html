<div class="image-component-wrapper">
  <div class="right-div">
    <div *ngIf="!isCropperActive && !showImage" class="btn-icon-noimage">
      <svg
        width="30"
        height="38"
        viewBox="0 0 30 38"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M27.1526 33.0625V14.3125H18.6457C16.6329 14.3125 14.9998 12.7378 14.9998 10.7969V2.59375H5.27761C3.93321 2.59375 2.84706 3.64111 2.84706 4.9375V33.0625C2.84706 34.3589 3.93321 35.4062 5.27761 35.4062H24.7221C26.0665 35.4062 27.1526 34.3589 27.1526 33.0625ZM27.1146 11.9688C27.0615 11.7637 26.9551 11.5732 26.7956 11.4268L17.9925 2.93799C17.833 2.78418 17.6431 2.68164 17.4304 2.63037V10.7969C17.4304 11.4414 17.9773 11.9688 18.6457 11.9688H27.1146ZM0.416504 4.9375C0.416504 2.35205 2.59641 0.25 5.27761 0.25H17.1342C18.0988 0.25 19.0254 0.623535 19.709 1.28271L28.5122 9.76416C29.1958 10.4233 29.5832 11.3169 29.5832 12.2471V33.0625C29.5832 35.6479 27.4033 37.75 24.7221 37.75H5.27761C2.59641 37.75 0.416504 35.6479 0.416504 33.0625V4.9375ZM5.88525 19C5.88525 18.5338 6.07731 18.0867 6.41917 17.757C6.76104 17.4274 7.2247 17.2422 7.70817 17.2422C8.19164 17.2422 8.6553 17.4274 8.99717 17.757C9.33903 18.0867 9.53109 18.5338 9.53109 19C9.53109 19.4662 9.33903 19.9133 8.99717 20.243C8.6553 20.5726 8.19164 20.7578 7.70817 20.7578C7.2247 20.7578 6.76104 20.5726 6.41917 20.243C6.07731 19.9133 5.88525 19.4662 5.88525 19ZM14.1871 27.269C13.9669 27.584 13.6023 27.7817 13.2073 27.7891C12.8123 27.7964 12.4402 27.6279 12.2047 27.3203L11.1109 25.9067L7.93603 30.7188H22.0712L17.1038 23.0503L14.1871 27.269ZM17.119 20.1719C17.7266 20.1719 18.2963 20.4722 18.6229 20.9775L24.3955 29.8765C24.6081 30.2061 24.7221 30.5869 24.7221 30.9824C24.7221 32.1323 23.7574 33.0625 22.5649 33.0625H7.43473C6.24224 33.0625 5.27761 32.1323 5.27761 30.9824C5.27761 30.5869 5.39155 30.1987 5.61182 29.8691L9.54628 23.9072C9.87288 23.4092 10.4501 23.1089 11.0578 23.1089C11.6198 23.1089 12.1515 23.3652 12.4933 23.7974L13.1086 24.5957L15.6379 20.9409C15.9645 20.4648 16.5189 20.1792 17.1114 20.1792L17.119 20.1719Z"
          fill="black"
          fill-opacity="0.64"
        />
      </svg>

      <button mat-button class="btn">
        <span class="inner-btn">
          <ogs-plus-icon></ogs-plus-icon>
          Hochladen
        </span>
      </button>

      <div class="bold-note">Oder laden Sie das Foto hier hoch.</div>
      <div class="note">Sie können jpeg- und png- Dateien hochladen.</div>
    </div>

    <label for="img" class="inputs-filling">
      <img
        *ngIf="!isCropperActive && imageUrl && hasBeenCropped"
        [src]="imageUrl"
        alt="Uploaded Image"
      />
      <image-cropper
        *ngIf="isCropperActive && imageUrl"
        [imageURL]="imageUrl"
        [aspectRatio]="3 / 4"
        [maintainAspectRatio]="true"
        [resizeToWidth]="200"
        format="png"
        [resizeToHeight]="250"
        (imageCropped)="cropImage($event)"
        style="z-index: 100"
      >
      </image-cropper>
    </label>
    <input
      #imageUploadInput
      type="file"
      id="img"
      name="img"
      (change)="onFileChange($event)"
      (click)="onFileClick($event)"
      [disabled]="isCropperActive"
    />
  </div>
</div>

<div class="hover-buttons" *ngIf="isCropperActive">
  <div class="absolute-container">
    <span (click)="cancelCropping()" class="gray-btn">
      <ogs-close-icon></ogs-close-icon>
      <span>Schließen</span>
    </span>

    <span (click)="submitCrop(croppedImage)" class="orange-btn">
      <ogs-save-icon></ogs-save-icon>
      <span>Speichern</span>
    </span>
  </div>
</div>

<div *ngIf="imageUrl && !isCropperActive" class="hover-buttons">
  <div class="absolute-container">
    <span class="tertiary-btn" (click)="delete()">
      <ogs-delete-icon></ogs-delete-icon>
      <span>Löschen</span>
    </span>

    <span class="gray-btn" (click)="openUpload()">
      <ogs-upload-icon></ogs-upload-icon>
      <span>Ersetzen</span>
    </span>

    <span class="gray-btn" (click)="openCropper()">
      <ogs-crop-icon></ogs-crop-icon>
      <span>Zuschneiden</span>
    </span>
  </div>
</div>

<div *ngIf="errorMessage">
  Nicht unterstützter Dateityp. Bitte laden Sie ein PNG- oder JPEG-Bild hoch.
</div>

<ogs-notification
  *ngIf="showNotification"
  [text]="notificationText"
  (closeNotification)="closeNotification()"
></ogs-notification>
